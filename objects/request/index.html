<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Request - Slim Framework</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Slim Framework</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Get Started</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../start/installation">Installation</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../start/web-servers">Web Servers</a>
                    
                </li>
            
        

    
        
        <span>Concepts</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../concepts/objects">Objects</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../concepts/di">Dependency Injection</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../concepts/middleware">Middleware</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../concepts/value-objects">PSR-7</a>
                    
                </li>
            
        

    
        
        <span>Objects</span>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">Request</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#the-request-object">The Request Object</a></li>
                            
                                <li><a class="toctree-l3" href="#request-method">Request Method</a></li>
                            
                                <li><a class="toctree-l3" href="#request-url">Request URL</a></li>
                            
                                <li><a class="toctree-l3" href="#request-headers">Request Headers</a></li>
                            
                                <li><a class="toctree-l3" href="#request-cookies">Request Cookies</a></li>
                            
                                <li><a class="toctree-l3" href="#request-body">Request Body</a></li>
                            
                                <li><a class="toctree-l3" href="#request-helpers">Request Helpers</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../response">Response</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../router">Router</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../environment">Environment</a>
                    
                </li>
            
        

    
        
        <span>Features</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../features/templates">Views and Templates</a>
                    
                </li>
            
        

    
        
            <li class="toctree-l1 ">
                <a class="" href="../../caching">Caching</a>
            </li>
        

    
        
        <span>Error Handling</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../handlers/error">500 Server Error</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../handlers/not-found">404 Not Found</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../handlers/not-allowed">405 Not Allowed</a>
                    
                </li>
            
        

    
        
        <span>Contributors</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../contributors/strategy">Branching Strategy</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="../.."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    <li>Request</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="the-request-object">The Request Object</h1>
<p>A Request object encapsulates the HTTP request data derived from the Environment object. You use the Request object to inspect the current HTTP request's method, headers, and body. Typically, you are provided a PSR-7 Request object (e.g., in middleware or an application route).</p>
<pre><code>&lt;?php
$app = new \Slim\App;
$app-&gt;get('/foo', function ($request, $response) {
    // Use the provided `$request` object
});
$app-&gt;run();
</code></pre>
<p>However, you can fetch a <em>new</em> Request object from the application container like this:</p>
<pre><code>$newRequest = $app-&gt;request;
</code></pre>
<h2 id="request-method">Request Method</h2>
<p>You can inspect the current HTTP request method with the Request object's <code>getMethod()</code> method. This returns a string value equal to <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>HEAD</code>, <code>OPTIONS</code>, or <code>PATCH</code>.</p>
<pre><code>$method = $request-&gt;getMethod();
</code></pre>
<h3 id="get-method">GET Method</h3>
<p>You can detect HTTP <code>GET</code> requests with the Request object's <code>isGet()</code> method.</p>
<pre><code>if ($request-&gt;isGet()) {
    // Do something
}
</code></pre>
<h3 id="post-method">POST Method</h3>
<p>You can detect HTTP <code>POST</code> requests with the Request object's <code>isPost()</code> method.</p>
<pre><code>if ($request-&gt;isPost()) {
    // Do something
}
</code></pre>
<h3 id="put-method">PUT Method</h3>
<p>You can detect HTTP <code>PUT</code> requests with the Request object's <code>isPut()</code> method.</p>
<pre><code>if ($request-&gt;isPut()) {
    // Do something
}
</code></pre>
<h3 id="delete-method">DELETE Method</h3>
<p>You can detect HTTP <code>DELETE</code> requests with the Request object's <code>isDelete()</code> method.</p>
<pre><code>if ($request-&gt;isDelete()) {
    // Do something
}
</code></pre>
<h3 id="head-method">HEAD Method</h3>
<p>You can detect HTTP <code>HEAD</code> requests with the Request object's <code>isHead()</code> method.</p>
<pre><code>if ($request-&gt;isHead()) {
    // Do something
}
</code></pre>
<h3 id="options-method">OPTIONS Method</h3>
<p>You can detect HTTP <code>OPTIONS</code> requests with the Request object's <code>isOptions()</code> method.</p>
<pre><code>if ($request-&gt;isOptions()) {
    // Do something
}
</code></pre>
<h3 id="patch-method">PATCH Method</h3>
<p>You can detect HTTP <code>PATCH</code> requests with the Request object's <code>isPatch()</code> method.</p>
<pre><code>if ($request-&gt;isPatch()) {
    // Do something
}
</code></pre>
<h3 id="method-override">Method Override</h3>
<p>There are two ways to override the HTTP request method. You can override the HTTP request method using the <code>_METHOD</code> parameter, or you can send a custom <code>X-HTTP-Method-Override</code> header. This is particularly useful if, for example, you need to mimic a <code>PUT</code> request using a traditional web browser that only supports <code>POST</code> requests. You can always fetch the <em>original</em> (non-overridden) HTTP method with the Request object's <code>getOriginalMethod()</code> method.</p>
<h4 id="with-a-body-parameter">With a body parameter</h4>
<p>Include a <code>_METHOD</code> parameter in a <code>POST</code> request body. You must use the <code>application/x-www-form-urlencoded</code> content type.</p>
<pre><code>POST /path HTTP/1.1
Host: example.com
Content-type: application/x-www-form-urlencoded
Content-length: 22

data=value&amp;_METHOD=PUT
</code></pre>
<h4 id="with-a-header">With a header</h4>
<p>You may also include the <code>X-HTTP-Method-Override</code> header in the HTTP request. You can use any content type.</p>
<pre><code>POST /path HTTP/1.1
Host: example.com
Content-type: application/json
Content-length: 16
X-HTTP-Method-Override: PUT

{"data":"value"}
</code></pre>
<h2 id="request-url">Request URL</h2>
<p>In accordance with the PSR-7 standard, you can inspect the Request URI by fetching the Uri instance from the Request object.</p>
<pre><code>$uri = $request-&gt;getUri();
</code></pre>
<h3 id="scheme">Scheme</h3>
<p>You can fetch the HTTP request scheme (e.g., HTTP or HTTPS) with the Uri object's <code>getScheme()</code> method.</p>
<pre><code>$scheme = $uri-&gt;getScheme();
</code></pre>
<h3 id="host">Host</h3>
<p>You can fetch the HTTP request's host (e.g., example.com) with the Uri object's <code>getHost()</code> method.</p>
<pre><code>$host = $uri-&gt;getHost();
</code></pre>
<h3 id="port">Port</h3>
<p>You can fetch the HTTP request's port number (e.g., 443) with the Uri object's <code>getPort()</code> method.</p>
<pre><code>$port = $uri-&gt;getPort();
</code></pre>
<h3 id="url-path">URL Path</h3>
<p>You can fetch the HTTP request's path (relative to the physical directory in which your Slim application is installed) with the Uri object's <code>getPath()</code> method. This method returns a string that is matched against your Slim application routes.</p>
<pre><code>$path = $uri-&gt;getPath();
</code></pre>
<h3 id="url-base-path">URL Base Path</h3>
<p>You can fetch the HTTP request's physical base path (relative to the document root) with the Uri object's <code>getBasePath()</code> method. This will be an empty string unless the Slim application is installed in a physical subdirectory beneath your document root.</p>
<pre><code>$basePath = $uri-&gt;getBasePath();
</code></pre>
<h3 id="query-string">Query String</h3>
<p>You can fetch the HTTP request's raw query string (without the leading "?") with the Uri object's <code>getQuery()</code> method. This method returns an empty string if no query string is present in the current HTTP request.</p>
<pre><code>$queryString = $uri-&gt;getQuery();
</code></pre>
<p>You may also fetch an associative array of query string parameters with the Request object's <code>getQueryParams()</code> method. This method returns an empty array if no query string is present.</p>
<pre><code>$queryParams = $request-&gt;getQueryParams();
</code></pre>
<h2 id="request-headers">Request Headers</h2>
<p>You can inspect the current HTTP request's headers with numerous methods on the Request object.</p>
<h3 id="all-headers">All Headers</h3>
<p>You can fetch an associative array of all headers with the Request object's <code>getHeaders()</code> method. The result is an associative array whose keys are header names and whose values are themselves an array of string values for their respective header name.</p>
<pre><code>$headers = $request-&gt;getHeaders();
foreach ($headers as $name =&gt; $values) {
    echo $name . ": " . implode(", ", $values);
}
</code></pre>
<h3 id="detect-header">Detect Header</h3>
<p>You can test for the presence of a header with the Request object's <code>hasHeader($name)</code> method.</p>
<pre><code>if ($request-&gt;hasHeader('Accept')) {
    // Do something
}
</code></pre>
<h3 id="fetch-single-header">Fetch Single Header</h3>
<p>You can fetch a single header's value(s) with the Request object's <code>getHeader($name)</code> method. This returns an array of strings for the given header name.</p>
<pre><code>$headerValues = $request-&gt;getHeader('Accept');
</code></pre>
<p>You may also fetch a comma-concatenation of a given header's value(s) with the Request object's <code>getHeaderLine($name)</code> method. Unlike the <code>getHeader($name)</code> method that returns an array, this method returns a string and concatenates multiple header values into a single string separated by commas.</p>
<pre><code>$headerValueString = $request-&gt;getHeaderLine('Accept');
</code></pre>
<h2 id="request-cookies">Request Cookies</h2>
<p>You can fetch the HTTP request's cookie data as an associative array with the Request object's <code>getCookieParams()</code> method. This is rudimentary, but it adheres to the PSR-7 interface. We are currently working on a better interface to inspect and manage HTTP cookies.</p>
<h2 id="request-body">Request Body</h2>
<p>You can inspect the HTTP request's body with the Request object's <code>getBody()</code> and <code>getParsedBody()</code> methods.</p>
<h3 id="the-getbody-method">The getBody() method</h3>
<p>The Request object's <code>getBody()</code> method returns a <code>\Psr\Http\Message\StreamInterface</code> instance, and it provides methods to iterate and read the HTTP request body's underlying stream resource. Use this method if your inbound HTTP requests are very large or of unknown size to avoid potential PHP memory exhaustion errors.</p>
<h3 id="the-getparsedbody-method">The getParsedBody() method</h3>
<p>You may also fetch a parsed representation of the HTTP request body using the Request object's <code>getParsedBody()</code> method. This method works for <code>application/json</code>, <code>application/xml</code>, and <code>application/x-www-form-urlencoded</code> HTTP requests. You should use this method for reasonably sized HTTP request bodies when building applications that consume JSON or XML data.</p>
<ul>
<li>JSON requests are converted into a PHP object with <code>json_decode($httpInput)</code>.</li>
<li>XML requests are converted into a <code>SimpleXMLElement</code> with <code>simplexml_load_string($httpInput)</code>. </li>
<li>Form-encoded requests are converted into a PHP array with <code>parse_str($httpInput)</code>.</li>
</ul>
<h2 id="request-helpers">Request Helpers</h2>
<p>The Request object provides additional methods to inspect the HTTP request metadata (e.g., content type, charset, length, and IP address).</p>
<h3 id="detect-ajax-xhr-requests">Detect AJAX / XHR requests</h3>
<p>You can detect AJAX/XHR requests with the Request object's <code>isAjax()</code> and <code>isXhr()</code> methods. Both methods do the same thing, so choose only one. These methods detect the presence of the <code>X-Requested-With</code> HTTP request header and ensure its value is <code>XMLHttpRequest</code>. These methods also return <code>true</code> if the <code>isajax</code> parameter is provided in the HTTP request query string or body.</p>
<pre><code>if ($request-&gt;isAjax()) {
    // Do something
}
</code></pre>
<h3 id="content-type">Content Type</h3>
<p>You can fetch the HTTP request content type with the Request object's <code>getContentType()</code> method. This returns the <code>Content-Type</code> header's full value as provided by the HTTP client.</p>
<pre><code>$contentType = $request-&gt;getContentType();
</code></pre>
<h3 id="media-type">Media Type</h3>
<p>You may not want the complete <code>Content-Type</code> header. What if, instead, you only want the media type? You can fetch the HTTP request media type with the Request object's <code>getMediaType()</code> method.</p>
<pre><code>$mediaType = $request-&gt;getMediaType();
</code></pre>
<p>You can fetch the appended media type parameters as an associative array with the Request object's <code>getMediaTypeParams()</code> method.</p>
<pre><code>$mediaParams = $request-&gt;getMediaTypeParams();
</code></pre>
<h3 id="character-set">Character Set</h3>
<p>One of the most common media type parameters is the HTTP request character set. The Request object provides a dedicated method to retrieve this media type parameter.</p>
<pre><code>$charset = $request-&gt;getContentCharset();
</code></pre>
<h3 id="content-length">Content Length</h3>
<p>You can fetch the HTTP request content length with the Request object's <code>getContentLength()</code> method.</p>
<pre><code>$length = $request-&gt;getContentLength();
</code></pre>
<h3 id="ip-address">IP Address</h3>
<p>You can fetch the HTTP request's source IP address with the Request object's <code>getIp()</code> method. This method respects the <code>X-Forwarded-For</code> header if present.</p>
<pre><code>$ip = $request-&gt;getIp();
</code></pre>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../response" class="btn btn-neutral float-right" title="Response"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../concepts/value-objects" class="btn btn-neutral" title="PSR-7"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../../concepts/value-objects" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../response" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>